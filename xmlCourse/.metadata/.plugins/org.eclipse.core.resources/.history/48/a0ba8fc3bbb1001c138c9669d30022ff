<!ENTITY % dateAttrs "year CDATA #REQUIRED
					month CDATA #REQUIRED
					day CDATA #REQUIRED">

<!ELEMENT bookCatalog (bookList, bookCategory)>
<!ELEMENT bookList (book*)>
<!ELEMENT book (title, author+, publisher, publishDate, revisionDate*, price, discountRate, pages, category+, image?, intro?, review*, foreignTitle?, translator?)>

<!ELEMENT title (#PCDATA)>
<!ELEMENT author (#PCDATA)>
<!ELEMENT publisher (#PCDATA)>
<!ELEMENT publishDate EMPTY>
<!ELEMENT revisionDate EMPTY>
<!ELEMENT price (listPrice, discountPrice)>
<!ELEMENT listPrice (#PCDATA)>
<!ELEMENT discountPrice (#PCDATA)>
<!ELEMENT discountRate (#PCDATA)>
<!ELEMENT pages (#PCDATA)>
<!ELEMENT intro (#PCDATA)>
<!ELEMENT review (#PCDATA)>
<!ELEMENT foreignTitle (#PCDATA)>
<!ELEMENT translator (#PCDATA)>

<!ATTLIST book id ID #REQUIRED
				categories IDREFS #IMPLIED>
<!ATTLIST publishDate %dateAttrs;>
<!ATTLIST revisionDate %dateAttrs;>
<!ATTLIST price currency (won|dollar|yen) "won">

<!ELEMENT bookCategory (category*)>
<!ELEMENT category (category*)>
<!ATTLIST category cid ID #REQUIRED
				name CDATA #REQUIRED>